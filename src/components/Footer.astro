---
import Icons from './Icons.astro'

import FOOTER_CONFIG from '@/config/footer.config'
---

<footer class="footer">
  <div class="container">
    <nav class="nav">
      {
        FOOTER_CONFIG.map(column => (
          <div>
            <div class="label-display">{column.title}</div>
            <ul class="nav-list">
              {column.nav.map(link => (
                <li>
                  <a
                    class={link.external ? 'ext-link' : ''}
                    href={link.href}
                    target={link.external ? '_blank' : undefined}
                    rel={link.external ? 'noopener noreferrer' : undefined}
                  >
                    {link.icon && <Icons name={link.icon} class="brand" />}
                    {link.label}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </nav>

    <div class="credits">
      <div class="row">
        <span>
          Powered by
          <a class="ext-link" href="https://astro.build" target="_blank" rel="noopener noreferrer">
            <Icons name="astro" class="brand" />
            Astro
          </a>
        </span>

        <div class="h-separator"></div>

        <span>
          Boostraped using
          <a
            class="ext-link"
            href="https://github.com/Charca/astro-blog-template"
            target="_blank"
            rel="noopener noreferrer"
          >
            astro-blog-template
          </a>
        </span>

        <div class="h-separator"></div>

        <span>
          Hosted on
          <a
            class="ext-link"
            href="https://github.com/Charca/astro-blog-template"
            target="_blank"
            rel="noopener noreferrer"
          >
            <span class="vercel-icon">â–²</span> Vercel
          </a>
        </span>
      </div>

      <div class="row">
        <span>
          Free for personal use NeueBit font by
          <a
            class="ext-link"
            href="https://befonts.com/mondwest-neuebit-font.html"
            target="_blank"
            rel="noopener noreferrer"
          >
            Befonts
          </a>
        </span>

        <div class="h-separator"></div>

        <span>
          Icons by
          <a class="ext-link" href="https://icons8.com" target="_blank"> Icons8 </a>
        </span>
      </div>

      <div class="center">
        <div class="v-separator xl"></div>
      </div>

      <div class="row">
        <span>
          {
            Boolean(__LATEST_UPDATE__) ? (
              <>
                Last updated on{' '}
                {typeof __LATEST_UPDATE__ === 'string' &&
                  Intl.DateTimeFormat('en', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                  }).format(new Date(__LATEST_UPDATE__))}
              </>
            ) : (
              ''
            )
          }
          <div class="h-separator"></div>
          Commit deployed:
          <a
            class="ext-link"
            href=`https://github.com/salatielsql/salatiel.dev/commit/${__COMMIT_HASH__}`
            target="_blank"
            rel="noopener noreferrer"
          >
            {__COMMIT_HASH__}
          </a>
        </span>
      </div>
    </div>
  </div>
</footer>
<style>
  footer.footer {
    padding-top: 4rem;
    padding-bottom: 1rem;
    background-color: var(--color-gray-800);

    & .nav {
      margin-bottom: 4rem;
      display: flex;
      flex-direction: row;
      justify-content: space-between;

      & .label-display {
        color: var(--color-gray-400);
      }
    }

    & .nav-list {
      list-style: none;
      padding: 0;
      margin: 0;

      & a {
        display: block;
        font-size: var(--font-base);
        line-height: var(--font-2xl);
        color: var(--color-gray-300);
        margin: 0.5rem 0;
        font-weight: 300;

        &.ext-link {
          font-size: var(--font-2xl);
          line-height: var(--font-2xl);
        }

        & .brand {
          vertical-align: baseline;
        }

        &:hover {
          color: var(--color-gray-100);
        }
      }
    }
  }

  .credits {
    color: var(--color-gray-400);
    font-size: var(--font-sm);

    & .row {
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1rem;
      margin: 0.5rem 0;
    }

    & a {
      /* text-decoration: solid underline; */
      color: var(--color-gray-400);
      font-size: var(--font-xl);

      &:hover {
        color: var(--color-gray-300);
      }
    }
  }

  .vercel-icon {
    font-size: 12px;
  }
</style>
